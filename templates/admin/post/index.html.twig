{% extends 'admin/baseAdmin.html.twig' %}

{% block title %}Liste des posts{% endblock %}

{% block body %}

            <div class="container">
            {% for message in app.flashes('message') %}
                <div class="alert alert-success" role="alert">
                    {{ message }}
                </div>
            {% endfor %}
            
                <h1>Voici la liste des posts <a class="btn btn-outline-info" href="{{ path('post.create') }}" >Ajouter</a></h1>
                {% for post in posts %}
                    <a href="{{ path('post.Adminshow',{id : post.id }) }}" ><h2>{{ post.title }}</h2></a>
                    <div>{{ post.description }}</div>
                    <p>Publié le {{ post.publishedAt|date('d/m/Y à h\\hi') }}</p>
                    <div>
                        {% for categorie in post.categories %}
                            <span class="badge bg-secondary">{{ categorie.name }}</span>
                        {%  endfor %}
                    </div>
                {% endfor %}
                
                {{ knp_pagination_render(posts,'@KnpPaginator/Pagination/twitter_bootstrap_v3_pagination.html.twig') }}
            </div>

{% endblock %}
